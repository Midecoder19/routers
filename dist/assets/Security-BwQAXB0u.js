var h=Object.defineProperty;var p=(r,i,s)=>i in r?h(r,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[i]=s;var a=(r,i,s)=>p(r,typeof i!="symbol"?i+"":i,s);import{j as e}from"./ui-S_nOSzwm.js";import{a as d}from"./vendor-DMBppH6t.js";import{w as u}from"./index-CP-KW1uf.js";/* empty css                    */import"./router-Bs7SEBOK.js";import"./motion-DgYwA7z-.js";class m extends d.Component{constructor(s){super(s);a(this,"setQuery",s=>this.setState({query:s}));a(this,"filtered",()=>{const s=(this.state.query||"").toLowerCase().trim();return s?(this.props.items||[]).filter(t=>`${t.code} ${t.description}`.toLowerCase().includes(s)):this.props.items||[]});this.state={query:""}}render(){const{onClose:s,onSelect:t,title:l}=this.props,n=this.filtered();return e.jsx("div",{className:"lookup-overlay",onClick:s,children:e.jsxs("div",{className:"lookup-modal",onClick:o=>o.stopPropagation(),style:{width:"90%",maxWidth:600},children:[e.jsxs("div",{className:"lookup-header",children:[e.jsxs("h5",{children:["ðŸ”‘ ",l," Lookup"]}),e.jsx("button",{className:"close-btn",onClick:s,children:"âœ– Close"})]}),e.jsxs("div",{className:"lookup-search",children:[e.jsx("input",{type:"text",placeholder:"Search by code or description...",value:this.state.query,onChange:o=>this.setQuery(o.target.value)}),e.jsxs("span",{className:"result-count",children:[n.length," result(s)"]})]}),e.jsx("div",{className:"lookup-table-container",children:e.jsxs("table",{className:"lookup-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"30%"},children:"Code"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:n.length?n.map((o,c)=>e.jsxs("tr",{className:"lookup-row",onClick:()=>t(o),children:[e.jsx("td",{children:o.code}),e.jsx("td",{children:o.description})]},c)):e.jsx("tr",{children:e.jsx("td",{colSpan:"2",className:"no-results",children:"No results found"})})})]})}),e.jsx("div",{className:"lookup-footer",children:"ðŸ’¡ Tip: Click a row to autofill the form."})]})})}}class x extends d.Component{constructor(s){super(s);a(this,"handleSectionChange",s=>{this.setState({selectedSection:s})});a(this,"handleChange",s=>{const{name:t,value:l,type:n,checked:o}=s.target;if(t.startsWith("roleOperation.")){const c=t.split(".")[1];this.setState({roleOperation:{...this.state.roleOperation,[c]:l}})}else if(t.startsWith("groupRole."))if(t.startsWith("groupRole.permissions.")){const c=t.split(".")[2];this.setState({groupRole:{...this.state.groupRole,permissions:{...this.state.groupRole.permissions,[c]:o}}})}else{const c=t.split(".")[1];this.setState({groupRole:{...this.state.groupRole,[c]:l}})}else this.setState({[t]:l})});a(this,"handleOK",()=>{console.log("Role Operation saved!")});a(this,"handleCancel",()=>{this.setState({roleOperation:{code:"",description:""}})});a(this,"handleLookupClick",s=>{const t=[{code:"ADM001",description:"Administrator Role"},{code:"USR001",description:"User Role"},{code:"MGR001",description:"Manager Role"},{code:"SUP001",description:"Supervisor Role"}];this.setState({showLookup:!0,lookupItems:t,lookupTitle:s==="roleOperation"?"Role Operation":"Group Role"})});a(this,"handleSelectLookupItem",s=>{this.state.selectedSection==="roleOperation"?this.setState({roleOperation:{code:s.code,description:s.description},showLookup:!1}):this.state.selectedSection==="groupRole"&&this.setState({groupRole:{...this.state.groupRole,code:s.code,description:s.description},showLookup:!1})});this.state={selectedSection:"roleOperation",showLookup:!1,lookupItems:[],lookupTitle:"",roleOperation:{code:"",description:""},groupRole:{code:"",description:"",permissions:{endOfMonth:!1,endOfYear:!1,maintenance:!1,report:!1,security:!1,task:!1,utility:!1}},password:"",userId:"",confirmPassword:"",officialName:"",groupRole:"",passportPhoto:null,passportPhotoPreview:null}}render(){const{selectedSection:s}=this.state;return e.jsxs("div",{className:"society-page",children:[e.jsxs("div",{className:"society-header",children:[e.jsx("h2",{children:"ðŸ”’ Security Settings"}),e.jsx("button",{className:"back-btn",onClick:()=>this.props.navigate("/common"),children:"â¬… Back"})]}),e.jsxs("div",{className:"toolbar",children:[e.jsx("button",{onClick:()=>console.log("Add clicked!"),children:"âž• Add"}),e.jsx("button",{className:"primary",onClick:()=>console.log("Update clicked!"),children:"ðŸ’¾ Update"}),e.jsx("button",{onClick:()=>console.log("Delete clicked!"),children:"ðŸ—‘ Delete"}),e.jsx("button",{onClick:()=>console.log("Print clicked!"),children:"ðŸ–¨ Print"})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"2rem"},children:[e.jsx("label",{children:"Select Section:"}),e.jsxs("select",{value:s,onChange:t=>this.handleSectionChange(t.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid var(--hover)",background:"var(--bg)",color:"var(--text)"},children:[e.jsx("option",{value:"roleOperation",children:"Role Operation"}),e.jsx("option",{value:"groupRole",children:"Group Role"}),e.jsx("option",{value:"password",children:"Password"})]})]}),e.jsxs("div",{className:"security-content",children:[s==="roleOperation"&&e.jsxs("div",{className:"security-tile",children:[e.jsx("h3",{children:"Role Operation"}),e.jsxs("div",{className:"form-group code-field",children:[e.jsx("label",{children:"Code:"}),e.jsxs("div",{className:"input-with-icon",children:[e.jsx("input",{type:"text",name:"roleOperation.code",value:this.state.roleOperation.code,onChange:this.handleChange}),e.jsx("button",{type:"button",className:"key-btn",onClick:()=>this.handleLookupClick("roleOperation"),children:"ðŸ”‘"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description:"}),e.jsx("textarea",{name:"roleOperation.description",value:this.state.roleOperation.description,onChange:this.handleChange,rows:"3"})]}),e.jsxs("div",{className:"footer-buttons",children:[e.jsx("button",{type:"button",className:"primary",onClick:this.handleOK,children:"OK"}),e.jsx("button",{type:"button",className:"cancel-btn",onClick:this.handleCancel,children:"Cancel"})]})]}),s==="groupRole"&&e.jsxs("div",{className:"security-tile",children:[e.jsx("h3",{children:"Group Role"}),e.jsxs("div",{className:"form-group code-field",children:[e.jsx("label",{children:"Code:"}),e.jsxs("div",{className:"input-with-icon",children:[e.jsx("input",{type:"text",name:"groupRole.code",value:this.state.groupRole.code,onChange:this.handleChange}),e.jsx("button",{type:"button",className:"key-btn",onClick:()=>this.handleLookupClick("groupRole"),children:"ðŸ”‘"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description:"}),e.jsx("textarea",{name:"groupRole.description",value:this.state.groupRole.description,onChange:this.handleChange,rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Permissions:"}),e.jsx("div",{className:"permissions-grid",children:Object.keys(this.state.groupRole.permissions).map(t=>e.jsxs("label",{className:"permission-checkbox",children:[e.jsx("input",{type:"checkbox",name:`groupRole.permissions.${t}`,checked:this.state.groupRole.permissions[t],onChange:this.handleChange}),t.charAt(0).toUpperCase()+t.slice(1).replace(/([A-Z])/g," $1")]},t))})]})]}),s==="password"&&e.jsxs("div",{className:"security-tile",children:[e.jsx("h3",{children:"Password"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"User ID:"}),e.jsx("input",{type:"text",name:"userId",value:this.state.userId||"",onChange:this.handleChange})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password:"}),e.jsx("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Confirm Password:"}),e.jsx("input",{type:"password",name:"confirmPassword",value:this.state.confirmPassword||"",onChange:this.handleChange})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Official Name:"}),e.jsx("input",{type:"text",name:"officialName",value:this.state.officialName||"",onChange:this.handleChange})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Group Role:"}),e.jsx("input",{type:"text",name:"groupRole",value:this.state.groupRole||"",onChange:this.handleChange})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Passport Photograph:"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("input",{type:"file",accept:"image/*",onChange:t=>{const l=t.target.files[0];if(l){const n=new FileReader;n.onload=o=>{this.setState({passportPhotoPreview:o.target.result})},n.readAsDataURL(l),this.setState({passportPhoto:l})}}}),this.state.passportPhotoPreview&&e.jsx("img",{src:this.state.passportPhotoPreview,alt:"Passport Preview",style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"8px"}})]})]}),e.jsx("div",{className:"form-group",children:e.jsx("button",{type:"button",className:"primary",onClick:()=>console.log("Load Passport clicked!"),children:"Load Passport"})})]})]}),this.state.showLookup&&e.jsx(m,{items:this.state.lookupItems,onClose:()=>this.setState({showLookup:!1}),onSelect:this.handleSelectLookupItem,title:this.state.lookupTitle})]})}}const y=u(x);export{y as default};
