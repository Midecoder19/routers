import{j as e,q as w,R as k,K as q}from"./ui-S_nOSzwm.js";import{r as l}from"./vendor-DMBppH6t.js";/* empty css                         */import{u as z}from"./router-Bs7SEBOK.js";const V=()=>{const c=z(),[n,h]=l.useState({store:"",lpoNo:"",date:"",supplier:"",discountRate:"",discountAmount:"",vatRate:"",vatAmount:""}),[a,m]=l.useState({newCode:"",measures:"",unitCost:"",bulkQuantity:"",piecesQuantity:"",amount:""}),[j,g]=l.useState([]),[t,N]=l.useState({isOpen:!1,type:null,data:[]}),p={stores:["Store 1","Store 2","Store 3","Store 4","Store 5"],lpoNos:["LPO001","LPO002","LPO003","LPO004","LPO005"],suppliers:["Supplier A","Supplier B","Supplier C","Supplier D","Supplier E"],newCodes:["CODE001","CODE002","CODE003","CODE004","CODE005"],measures:["Kg","Liter","Piece","Box","Dozen"]},d=l.useCallback(s=>{const{name:r,value:o}=s.target;h(u=>({...u,[r]:o}))},[]),i=l.useCallback(s=>{const{name:r,value:o}=s.target;m(u=>({...u,[r]:o}))},[]),O=l.useCallback(s=>{const r=p[s];N({isOpen:!0,type:s,data:r})},[]),f=l.useCallback(()=>{N({isOpen:!1,type:null,data:[]})},[]),P=l.useCallback((s,r)=>{s==="lpoNo"||s==="newCode"?h(o=>({...o,[s]:r})):m(o=>({...o,[s]:r})),f()},[f]),S=l.useCallback(()=>{if(a.newCode&&a.measures&&a.unitCost){const s={itemCode:a.newCode,description:`Description for ${a.newCode}`,measures:a.measures,bulkPrice:a.unitCost,piecesPrice:a.unitCost,extended:(parseFloat(a.bulkQuantity||0)+parseFloat(a.piecesQuantity||0))*parseFloat(a.unitCost||0)};g(r=>[...r,s]),m({newCode:"",measures:"",unitCost:"",bulkQuantity:"",piecesQuantity:"",amount:""})}},[a]),D=l.useCallback(()=>{m({newCode:"",measures:"",unitCost:"",bulkQuantity:"",piecesQuantity:"",amount:""})},[]),A=l.useCallback(()=>{h({store:"",lpoNo:"",date:"",supplier:"",discountRate:"",discountAmount:"",vatRate:"",vatAmount:""}),g([])},[]),E=l.useCallback(()=>{alert("Update functionality - to be implemented")},[]),L=l.useCallback(()=>{alert("Delete functionality - to be implemented")},[]),F=l.useCallback(()=>{alert("Print functionality - to be implemented")},[]);l.useCallback(()=>{c("/dashboard")},[c]),l.useCallback(()=>{alert("Help: Use this form to manage LPO. Click key icons to lookup existing codes.")},[]);const R=l.useCallback(s=>{s.preventDefault(),alert("LPO saved successfully!")},[n,j]),Q=l.useCallback(()=>{c("/dashboard")},[c]),C=({name:s,value:r,onChange:o,dropdownType:u,placeholder:v,required:T=!1})=>e.jsxs("div",{className:"input-with-icon",children:[e.jsx("input",{type:"text",name:s,value:r,onChange:o,placeholder:v,required:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("button",{type:"button",onClick:()=>O(u),className:"key-btn",title:`Lookup ${v}`,children:e.jsx(q,{size:16})})]}),b=j.reduce((s,r)=>s+r.extended,0),x=b*parseFloat(n.discountRate||0)/100,y=(b-x)*parseFloat(n.vatRate||0)/100,I=b-x+y;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"society-page",children:[e.jsxs("div",{className:"society-header",children:[e.jsx("h2",{children:"ðŸ“‹ Local Purchase Order (LPO)"}),e.jsx("button",{className:"back-btn",onClick:()=>c(-1),children:"â¬… Back"})]}),e.jsxs("div",{className:"toolbar",children:[e.jsx("button",{onClick:A,children:"âž• Add"}),e.jsx("button",{className:"primary",onClick:E,children:"ðŸ’¾ Update"}),e.jsx("button",{onClick:L,children:"ðŸ—‘ Delete"}),e.jsx("button",{onClick:F,children:"ðŸ–¨ Print"})]}),e.jsxs("form",{className:"society-card",onSubmit:R,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Store:"}),e.jsxs("select",{name:"store",value:n.store,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Store"}),p.stores.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"form-group code-field",children:[e.jsx("label",{children:"LPO No:"}),e.jsx(C,{name:"lpoNo",value:n.lpoNo,onChange:d,dropdownType:"lpoNos",placeholder:"Enter LPO number",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date:"}),e.jsx("input",{type:"date",name:"date",value:n.date,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Supplier:"}),e.jsxs("select",{name:"supplier",value:n.supplier,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Supplier"}),p.suppliers.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Discount Rate (%):"}),e.jsx("input",{type:"number",name:"discountRate",value:n.discountRate,onChange:d,placeholder:"Enter discount rate",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Discount Amount:"}),e.jsx("input",{type:"number",name:"discountAmount",value:x.toFixed(2),readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VAT Rate (%):"}),e.jsx("input",{type:"number",name:"vatRate",value:n.vatRate,onChange:d,placeholder:"Enter VAT rate",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VAT Amount:"}),e.jsx("input",{type:"number",name:"vatAmount",value:y.toFixed(2),readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"})]})]}),e.jsxs("div",{className:"form-group col-span-full",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group code-field",children:[e.jsx("label",{children:"New Code:"}),e.jsx(C,{name:"newCode",value:a.newCode,onChange:i,dropdownType:"newCodes",placeholder:"Enter new code"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Measures:"}),e.jsxs("select",{name:"measures",value:a.measures,onChange:i,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Measure"}),p.measures.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Unit Cost:"}),e.jsx("input",{type:"number",name:"unitCost",value:a.unitCost,onChange:i,placeholder:"Enter unit cost",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bulk Quantity:"}),e.jsx("input",{type:"number",name:"bulkQuantity",value:a.bulkQuantity,onChange:i,placeholder:"Enter bulk quantity",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pieces Quantity:"}),e.jsx("input",{type:"number",name:"piecesQuantity",value:a.piecesQuantity,onChange:i,placeholder:"Enter pieces quantity",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Amount:"}),e.jsx("input",{type:"number",name:"amount",value:a.amount,onChange:i,placeholder:"Enter amount",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"footer-buttons",children:[e.jsxs("button",{type:"button",onClick:S,className:"primary",children:[e.jsx(w,{size:16,className:"inline mr-2"}),"OK"]}),e.jsxs("button",{type:"button",className:"cancel-btn",onClick:D,children:[e.jsx(k,{size:16,className:"inline mr-2"}),"Cancel"]})]})]}),e.jsx("div",{className:"form-group col-span-full",children:e.jsx("div",{style:{maxHeight:300,overflowY:"auto"},children:e.jsxs("table",{className:"table table-striped table-bordered",children:[e.jsx("thead",{className:"table-dark",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Item Code"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Measures"}),e.jsx("th",{children:"Bulk Price"}),e.jsx("th",{children:"Pieces Price"}),e.jsx("th",{children:"Extended"})]})}),e.jsx("tbody",{children:j.map((s,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:s.itemCode}),e.jsx("td",{children:s.description}),e.jsx("td",{children:s.measures}),e.jsx("td",{children:s.bulkPrice}),e.jsx("td",{children:s.piecesPrice}),e.jsx("td",{children:s.extended.toFixed(2)})]},r))})]})})}),e.jsx("div",{className:"form-group col-span-full",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Total Amount:"}),e.jsx("input",{type:"number",value:b.toFixed(2),readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Discount Amount:"}),e.jsx("input",{type:"number",value:x.toFixed(2),readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"VAT Amount:"}),e.jsx("input",{type:"number",value:y.toFixed(2),readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Net Pay:"}),e.jsx("input",{type:"number",value:I.toFixed(2),readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"})]})]})}),e.jsxs("div",{className:"footer-buttons",children:[e.jsxs("button",{type:"submit",className:"primary",children:[e.jsx(w,{size:16,className:"inline mr-2"}),"Save"]}),e.jsxs("button",{type:"button",className:"cancel-btn",onClick:Q,children:[e.jsx(k,{size:16,className:"inline mr-2"}),"Cancel"]})]})]})]}),t.isOpen&&e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(6px)",zIndex:1060},children:e.jsxs("div",{className:"card shadow-lg border-0",style:{width:"90%",maxWidth:600,borderRadius:"1rem",overflow:"hidden"},children:[e.jsxs("div",{className:"card-header bg-primary text-white d-flex justify-content-between align-items-center py-3 px-4",children:[e.jsxs("h5",{className:"mb-0 fw-semibold",children:["ðŸ”‘ Select ",t.type==="lpoNos"?"LPO No":t.type==="newCodes"?"New Code":"Code"]}),e.jsx("button",{className:"btn btn-sm btn-light fw-semibold",onClick:f,children:"âœ– Close"})]}),e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"mb-3 d-flex flex-wrap align-items-center gap-2",children:[e.jsx("input",{type:"text",className:"form-control form-control-sm flex-grow-1",placeholder:"Search...",value:"",onChange:()=>{}}),e.jsxs("span",{className:"text-muted small",children:[t.data.length," result(s)"]})]}),e.jsx("div",{style:{maxHeight:360,overflowY:"auto"},children:e.jsxs("table",{className:"table table-hover align-middle mb-0",children:[e.jsx("thead",{className:"table-light position-sticky top-0",children:e.jsx("tr",{children:e.jsx("th",{children:t.type==="lpoNos"?"LPO No":t.type==="newCodes"?"New Code":"Code"})})}),e.jsx("tbody",{children:t.data.length?t.data.map((s,r)=>e.jsx("tr",{onClick:()=>P(t.type==="lpoNos"?"lpoNo":"newCode",s),style:{cursor:"pointer"},children:e.jsx("td",{children:s})},r)):e.jsx("tr",{children:e.jsx("td",{className:"text-center text-muted py-4",children:"No results found"})})})]})})]}),e.jsx("div",{className:"card-footer bg-light text-center text-muted small py-2",children:"ðŸ’¡ Tip: Click a row to autofill the form."})]})})]})};export{V as default};
