var d=Object.defineProperty;var u=(r,o,t)=>o in r?d(r,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[o]=t;var s=(r,o,t)=>u(r,typeof o!="symbol"?o+"":o,t);import{j as e,K as m,q as h,R as p}from"./ui-S_nOSzwm.js";import{a as x}from"./vendor-DMBppH6t.js";import{w as b}from"./index-CP-KW1uf.js";/* empty css                         */import"./router-Bs7SEBOK.js";import"./motion-DgYwA7z-.js";class j extends x.Component{constructor(t){super(t);s(this,"handleChange",t=>{const{name:n,value:a}=t.target;this.setState({formData:{...this.state.formData,[n]:a}})});s(this,"handleLookupClick",t=>{let n=[];t==="code"?n=this.state.codes:t==="loanGLAccountCode"?n=this.state.loanGLCodes:t==="interestGLAccountCode"?n=this.state.interestGLCodes:t==="bankGLAccountCode"&&(n=this.state.bankGLCodes),this.setState({modal:{isOpen:!0,type:t,data:n}})});s(this,"handleLookupSelect",(t,n)=>{this.setState({formData:{...this.state.formData,[t]:n},modal:{isOpen:!1,type:null,data:[]}})});s(this,"closeModal",()=>{this.setState({modal:{isOpen:!1,type:null,data:[]}})});s(this,"handleAdd",()=>{this.setState({formData:{code:"",description:"",interestRate:"",minimumLoanAmount:"",repaymentPeriod:"",loanGLAccountCode:"",loanGLAccountName:"",interestGLAccountCode:"",interestIncomeAccountName:"",bankGLAccountCode:"",bankGLAccountName:"",include:"No",priorityLevel:"Low"}})});s(this,"handleUpdate",()=>{alert("Update functionality - to be implemented")});s(this,"handleDelete",()=>{alert("Delete functionality - to be implemented")});s(this,"handlePrint",()=>{this.setState({showReport:!0})});s(this,"handleClose",()=>{this.props.navigate("/dashboard")});s(this,"handleHelp",()=>{alert("Help: Use this form to manage essential commodities. Click key icons to lookup existing codes.")});s(this,"handleSubmit",t=>{t.preventDefault(),alert("Essential Commodity saved successfully!")});s(this,"handleCancel",()=>{this.props.navigate("/dashboard")});s(this,"LookupInput",({name:t,value:n,onChange:a,dropdownType:l,placeholder:i,required:c=!1})=>e.jsxs("div",{className:"input-with-icon",children:[e.jsx("input",{type:"text",name:t,value:n,onChange:a,placeholder:i,required:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("button",{type:"button",onClick:()=>this.handleLookupClick(l),className:"key-btn",title:`Lookup ${i}`,children:e.jsx(m,{size:16})})]}));this.state={formData:{code:"",description:"",interestRate:"",minimumLoanAmount:"",repaymentPeriod:"",loanGLAccountCode:"",loanGLAccountName:"",interestGLAccountCode:"",interestIncomeAccountName:"",bankGLAccountCode:"",bankGLAccountName:"",include:"No",priorityLevel:"Low"},modal:{isOpen:!1,type:null,data:[]},showReport:!1,codes:["COM001","COM002","COM003"],loanGLCodes:["LOAN001","LOAN002","LOAN003"],interestGLCodes:["INT001","INT002","INT003"],bankGLCodes:["BANK001","BANK002","BANK003"]}}render(){const{formData:t,modal:n}=this.state,{LookupInput:a}=this;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"society-page",children:[e.jsxs("div",{className:"society-header",children:[e.jsx("h2",{children:"ðŸ“¦ Essential Commodity"}),e.jsx("button",{className:"back-btn",onClick:()=>this.props.navigate(-1),children:"â¬… Back"})]}),e.jsxs("div",{className:"toolbar",children:[e.jsx("button",{onClick:this.handleAdd,children:"âž• Add"}),e.jsx("button",{className:"primary",onClick:this.handleUpdate,children:"ðŸ’¾ Update"}),e.jsx("button",{onClick:this.handleDelete,children:"ðŸ—‘ Delete"}),e.jsx("button",{onClick:this.handlePrint,children:"ðŸ–¨ Print"})]}),e.jsxs("form",{className:"society-card",onSubmit:this.handleSubmit,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group code-field",children:[e.jsx("label",{children:"Code:"}),e.jsx(a,{name:"code",value:t.code,onChange:this.handleChange,dropdownType:"code",placeholder:"Enter code",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description:"}),e.jsx("input",{type:"text",name:"description",value:t.description,onChange:this.handleChange,placeholder:"Enter description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Interest Rate:"}),e.jsx("input",{type:"number",name:"interestRate",value:t.interestRate,onChange:this.handleChange,placeholder:"Enter interest rate",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Minimum Loan Amount:"}),e.jsx("input",{type:"number",name:"minimumLoanAmount",value:t.minimumLoanAmount,onChange:this.handleChange,placeholder:"Enter minimum loan amount",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Repayment Period:"}),e.jsx("input",{type:"text",name:"repaymentPeriod",value:t.repaymentPeriod,onChange:this.handleChange,placeholder:"Enter repayment period",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Loan GL A/C Code:"}),e.jsx(a,{name:"loanGLAccountCode",value:t.loanGLAccountCode,onChange:this.handleChange,dropdownType:"loanGLAccountCode",placeholder:"Enter loan GL account code"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Loan GL A/C Name:"}),e.jsx("input",{type:"text",name:"loanGLAccountName",value:t.loanGLAccountName,onChange:this.handleChange,placeholder:"Enter loan GL account name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Interest GL A/C Code:"}),e.jsx(a,{name:"interestGLAccountCode",value:t.interestGLAccountCode,onChange:this.handleChange,dropdownType:"interestGLAccountCode",placeholder:"Enter interest GL account code"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Interest Income A/C Name:"}),e.jsx("input",{type:"text",name:"interestIncomeAccountName",value:t.interestIncomeAccountName,onChange:this.handleChange,placeholder:"Enter interest income account name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank GL A/C Code:"}),e.jsx(a,{name:"bankGLAccountCode",value:t.bankGLAccountCode,onChange:this.handleChange,dropdownType:"bankGLAccountCode",placeholder:"Enter bank GL account code"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank GL A/C Name:"}),e.jsx("input",{type:"text",name:"bankGLAccountName",value:t.bankGLAccountName,onChange:this.handleChange,placeholder:"Enter bank GL account name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Include:"}),e.jsxs("select",{name:"include",value:t.include,onChange:this.handleChange,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"No",children:"No"}),e.jsx("option",{value:"Yes",children:"Yes"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Priority Level:"}),e.jsxs("select",{name:"priorityLevel",value:t.priorityLevel,onChange:this.handleChange,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"})]})]})]}),e.jsxs("div",{className:"footer-buttons",children:[e.jsxs("button",{type:"submit",className:"primary",children:[e.jsx(h,{size:16,className:"inline mr-2"}),"Save"]}),e.jsxs("button",{type:"button",className:"cancel-btn",onClick:this.handleCancel,children:[e.jsx(p,{size:16,className:"inline mr-2"}),"Cancel"]})]})]})]}),n.isOpen&&e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(6px)",zIndex:1060},children:e.jsxs("div",{className:"card shadow-lg border-0",style:{width:"90%",maxWidth:600,borderRadius:"1rem",overflow:"hidden"},children:[e.jsxs("div",{className:"card-header bg-primary text-white d-flex justify-content-between align-items-center py-3 px-4",children:[e.jsxs("h5",{className:"mb-0 fw-semibold",children:["ðŸ”‘ Select ",n.type==="code"?"Code":n.type==="loanGLAccountCode"?"Loan GL Account Code":n.type==="interestGLAccountCode"?"Interest GL Account Code":"Bank GL Account Code"]}),e.jsx("button",{className:"btn btn-sm btn-light fw-semibold",onClick:this.closeModal,children:"âœ– Close"})]}),e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"mb-3 d-flex flex-wrap align-items-center gap-2",children:[e.jsx("input",{type:"text",className:"form-control form-control-sm flex-grow-1",placeholder:"Search by code...",value:"",onChange:()=>{}}),e.jsxs("span",{className:"text-muted small",children:[n.data.length," result(s)"]})]}),e.jsx("div",{style:{maxHeight:360,overflowY:"auto"},children:e.jsxs("table",{className:"table table-hover align-middle mb-0",children:[e.jsx("thead",{className:"table-light position-sticky top-0",children:e.jsx("tr",{children:e.jsx("th",{children:"Code"})})}),e.jsx("tbody",{children:n.data.length?n.data.map((l,i)=>e.jsx("tr",{onClick:()=>this.handleLookupSelect(n.type,l),style:{cursor:"pointer"},children:e.jsx("td",{children:l})},i)):e.jsx("tr",{children:e.jsx("td",{className:"text-center text-muted py-4",children:"No results found"})})})]})})]}),e.jsx("div",{className:"card-footer bg-light text-center text-muted small py-2",children:"ðŸ’¡ Tip: Click a row to autofill the form."})]})}),this.state.showReport&&e.jsx("div",{className:"report-overlay",children:e.jsxs("div",{className:"report-modal",children:[e.jsxs("div",{className:"report-header",children:[e.jsx("h3",{children:"ðŸ“‹ Essential Commodity Report"}),e.jsx("button",{className:"close-btn",onClick:()=>this.setState({showReport:!1}),children:"âœ–"})]}),e.jsx("div",{className:"report-body",children:e.jsx("div",{className:"report-card",children:e.jsxs("div",{className:"report-info",children:[e.jsx("strong",{children:"Essential Commodity Configuration"}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("strong",{children:"Code:"})," ",this.state.formData.code||"Not set",e.jsx("br",{}),e.jsx("strong",{children:"Description:"})," ",this.state.formData.description||"Not set",e.jsx("br",{}),e.jsx("strong",{children:"Interest Rate:"})," ",this.state.formData.interestRate||"Not set",e.jsx("br",{}),e.jsx("strong",{children:"Minimum Loan Amount:"})," ",this.state.formData.minimumLoanAmount||"Not set",e.jsx("br",{}),e.jsx("strong",{children:"Repayment Period:"})," ",this.state.formData.repaymentPeriod||"Not set",e.jsx("br",{}),e.jsx("strong",{children:"Loan GL A/C Code:"})," ",this.state.formData.loanGLAccountCode||"Not set",e.jsx("br",{}),e.jsx("strong",{children:"Loan GL A/C Name:"})," ",this.state.formData.loanGLAccountName||"Not set",e.jsx("br",{}),e.jsx("strong",{children:"Interest GL A/C Code:"})," ",this.state.formData.interestGLAccountCode||"Not set",e.jsx("br",{}),e.jsx("strong",{children:"Interest Income A/C Name:"})," ",this.state.formData.interestIncomeAccountName||"Not set",e.jsx("br",{}),e.jsx("strong",{children:"Bank GL A/C Code:"})," ",this.state.formData.bankGLAccountCode||"Not set",e.jsx("br",{}),e.jsx("strong",{children:"Bank GL A/C Name:"})," ",this.state.formData.bankGLAccountName||"Not set",e.jsx("br",{}),e.jsx("strong",{children:"Include:"})," ",this.state.formData.include||"Not set",e.jsx("br",{}),e.jsx("strong",{children:"Priority Level:"})," ",this.state.formData.priorityLevel||"Not set",e.jsx("br",{})]})})}),e.jsxs("div",{className:"report-footer",children:[e.jsx("button",{onClick:()=>window.print(),children:"ðŸ–¨ Print Report"}),e.jsx("button",{onClick:()=>this.setState({showReport:!1}),children:"Close"})]})]})})]})}}const A=b(j);export{A as default};
