var h=Object.defineProperty;var c=(r,s,t)=>s in r?h(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t;var a=(r,s,t)=>c(r,typeof s!="symbol"?s+"":s,t);import{j as e}from"./ui-S_nOSzwm.js";import{a as p}from"./vendor-DMBppH6t.js";import{w as x}from"./index-CP-KW1uf.js";import"./router-Bs7SEBOK.js";import"./motion-DgYwA7z-.js";class j extends p.Component{constructor(t){super(t);a(this,"generatePeriods",()=>{const t=new Date(this.state.beginDate);if(isNaN(t))return;const i=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],d=[];for(let n=0;n<Number(this.state.noOfPeriods);n++){const l=new Date(t.getFullYear(),n,1),o=new Date(t.getFullYear(),n+1,0);d.push({id:n+1,description:i[n%12]||`PERIOD ${n+1}`,begin:l.toISOString().split("T")[0],end:o.toISOString().split("T")[0],status:n===0?"OPEN":"CLOSE"})}this.setState({periods:d})});a(this,"handleStatusChange",(t,i)=>{this.setState({periods:this.state.periods.map(d=>d.id===t?{...d,status:i}:d)})});a(this,"handleOpenAll",()=>this.setState({periods:this.state.periods.map(t=>({...t,status:"OPEN"}))}));a(this,"handleCloseAll",()=>this.setState({periods:this.state.periods.map(t=>({...t,status:"CLOSE"}))}));a(this,"handleNoOfPeriodsChange",t=>{this.setState({noOfPeriods:t.target.value})});a(this,"handleBeginDateChange",t=>{this.setState({beginDate:t.target.value})});this.state={noOfPeriods:12,beginDate:"2024-01-01",periods:[]}}componentDidMount(){this.generatePeriods()}componentDidUpdate(t,i){(i.noOfPeriods!==this.state.noOfPeriods||i.beginDate!==this.state.beginDate)&&this.generatePeriods()}render(){return e.jsxs("div",{className:"financial-container",children:[e.jsxs("div",{className:"financial-header",children:[e.jsx("h2",{children:"Financial Period"}),e.jsx("button",{className:"back-btn",onClick:()=>this.props.navigate("/common"),children:"â¬… Back"})]}),e.jsxs("div",{className:"financial-card",children:[e.jsxs("div",{className:"period-dates",children:[e.jsx("h4",{children:"Period Dates"}),e.jsxs("div",{className:"period-inputs",children:[e.jsxs("label",{children:["No of Periods:",e.jsx("input",{type:"number",value:this.state.noOfPeriods,min:"1",max:"12",onChange:this.handleNoOfPeriodsChange})]}),e.jsxs("label",{children:["Begin Date:",e.jsx("input",{type:"date",value:this.state.beginDate,onChange:this.handleBeginDateChange})]})]})]}),e.jsx("div",{className:"period-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Period No"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Begin Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Status"})]})}),e.jsx("tbody",{children:this.state.periods.length>0?this.state.periods.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.id}),e.jsx("td",{children:t.description}),e.jsx("td",{children:t.begin}),e.jsx("td",{children:t.end}),e.jsx("td",{children:e.jsxs("select",{value:t.status,onChange:i=>this.handleStatusChange(t.id,i.target.value),children:[e.jsx("option",{value:"OPEN",children:"OPEN"}),e.jsx("option",{value:"CLOSE",children:"CLOSE"})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"no-data",children:"No periods generated"})})})]})}),e.jsxs("div",{className:"financial-buttons",children:[e.jsx("button",{onClick:this.handleOpenAll,children:"Open All"}),e.jsx("button",{onClick:this.handleCloseAll,children:"Close All"}),e.jsx("button",{className:"primary",children:"OK"}),e.jsx("button",{className:"cancel",onClick:()=>this.props.navigate("/common"),children:"Close"})]})]})]})}}const C=x(j);export{C as default};
